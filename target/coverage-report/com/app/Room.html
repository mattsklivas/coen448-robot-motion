<!DOCTYPE html>
<html>
<head>
  <title>Room.java</title>
  <meta charset='UTF-8'>
  <link rel='stylesheet' type='text/css' href='../../source.css'>
  <link rel='shortcut icon' type='image/png' href='../../logo.png'>
  <script src='../../coverage.js'></script>
  <base target='_blank'>
  <script src='../../prettify.js'></script>
</head>
<body onload='prettyPrint()'>
  <table>
    <caption>coen448-robot-motion/src/main/java/com/app/Room.java</caption>
    <tr>
      <td>1</td><td></td>
      <td><pre class='pp'>package com.app;</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>3</td><td></td>
      <td><pre class='pp'>public class Room {</pre></td>
    </tr>
    <tr>
      <td>4</td><td></td>
      <td><pre class='cm'>    // com.app.Robot walks in room on floor</pre></td>
    </tr>
    <tr>
      <td>5</td><td></td>
      <td><pre class='pp'>    private Robot <span class='instance cvd' title='Reads: 712 Writes: 38'>robot</span>;</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>7</td><td></td>
      <td><pre class='cm'>    // Floor contains robot trace path</pre></td>
    </tr>
    <tr>
      <td>8</td><td></td>
      <td><pre class='pp'>    private int floor[][];</pre></td>
    </tr>
    <tr>
      <td>9</td><td></td>
      <td><pre class='pp'>    private int floorSize;</pre></td>
    </tr>
    <tr>
      <td>10</td><td></td>
      <td><pre class='pp'>    private boolean isInitialized;</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>12</td><td class='ct'>2</td>
      <td><pre class='pp cvd' id='l12s0'>    public Room() {</pre></td>
    </tr>
    <tr>
      <td>13</td><td class='ct'>2</td>
      <td><pre class='pp cvd' id='l13s0'>        robot = new Robot();</pre></td>
    </tr>
    <tr>
      <td>14</td><td class='ct'>2</td>
      <td><pre class='pp cvd' id='l14s0'>        isInitialized = false;</pre></td>
    </tr>
    <tr>
      <td>15</td><td class='ct'>2</td>
      <td><pre class='pp cvd' id='l15s0'>    }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>17</td><td></td>
      <td><pre class='cm'>    // Initialize the system - robot and floor (I n/i n)</pre></td>
    </tr>
    <tr>
      <td>18</td><td class='ct'>36</td>
      <td><pre class='pp cvd' id='l18s0'>    public Room(int n) {</pre></td>
    </tr>
    <tr>
      <td>19</td><td></td>
      <td><pre class='cm'>        // Initialize robot</pre></td>
    </tr>
    <tr>
      <td>20</td><td class='ct'>36</td>
      <td><pre class='pp cvd' id='l20s0'>        robot = new Robot();</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>22</td><td></td>
      <td><pre class='cm'>        // Initialize floor</pre></td>
    </tr>
    <tr>
      <td>23</td><td class='ct'>36</td>
      <td><pre class='pp cvd' id='l23s0'>        <span class='instance cvd' title='Reads: 2058 Writes: 36'>floor</span> = new int[n][n];</pre></td>
    </tr>
    <tr>
      <td>24</td><td class='ct'>36</td>
      <td><pre class='pp cvd' id='l24s0'>        <span class='instance cvd' title='Reads: 2652 Writes: 36'>floorSize</span> = n;</pre></td>
    </tr>
    <tr>
      <td>25</td><td class='ct'>36</td>
      <td><pre class='pp cvd' id='l25s0'>        <span class='instance cvd' title='Reads: 69 Writes: 38'>isInitialized</span> = true;</pre></td>
    </tr>
    <tr>
      <td>26</td><td class='ct'>36</td>
      <td><pre class='pp cvd' id='l26s0'>    }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>28</td><td></td>
      <td><pre class='cm'>    // Move pen up (U/u) or down (D/d)</pre></td>
    </tr>
    <tr>
      <td>29</td><td></td>
      <td><pre class='pp'>    public void movePen(boolean isPenDown) {</pre></td>
    </tr>
    <tr>
      <td>30</td><td class='ct'>14</td>
      <td><pre class='pp cvd' id='l30s0'>        robot.setIsPenDown(isPenDown);</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>32</td><td></td>
      <td><pre class='cm'>        // Set current tile to 1 when putting pen down</pre></td>
    </tr>
    <tr>
      <td>33</td><td class='ct'>14</td>
      <td><pre class='pp jmp'>        <span id='l33s0' title='Executions: 14' class='cvd'>if (robot.isPenDown())</span></pre></td>
    </tr>
    <tr>
      <td>34</td><td class='ct'>12</td>
      <td><pre class='pp cvd' id='l34s0'>            this.floor[robot.getRobotRow()][robot.getRobotCol()] = 1;</pre></td>
    </tr>
    <tr>
      <td>35</td><td class='ct'>14</td>
      <td><pre class='pp cvd' id='l35s0'>    }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>37</td><td></td>
      <td><pre class='cm'>    // Move robot forward s spaces (M s/m s)</pre></td>
    </tr>
    <tr>
      <td>38</td><td></td>
      <td><pre class='pp'>    public void moveRobot(int spaces) {</pre></td>
    </tr>
    <tr>
      <td>39</td><td></td>
      <td><pre class='cm'>        // Get current direction</pre></td>
    </tr>
    <tr>
      <td>40</td><td class='ct'>30</td>
      <td><pre class='pp cvd' id='l40s0'>        int robotDir = robot.getRobotDirection();</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>42</td><td></td>
      <td><pre class='cm'>        // Moving down (2) and left (3) with negative offset</pre></td>
    </tr>
    <tr>
      <td>43</td><td></td>
      <td><pre class='cm'>        // Moving up (0) and right (1) with positive offset</pre></td>
    </tr>
    <tr>
      <td>44</td><td class='ct'>30</td>
      <td><pre class='pp jmp'>        <span id='l44s0' title='Executions: 30' class='cvd'>int offset = robotDir &lt; 2</span> ? <span id='l44s1' title='Executions: 26' class='cvd'>1</span> : <span id='l44s2' title='Executions: 4' class='cvd'>-1;</span></pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>46</td><td></td>
      <td><pre class='cm'>        // Moving vertical (up 0, down 2) or horizontal (right 1, left 3)</pre></td>
    </tr>
    <tr>
      <td>47</td><td class='ct'>30</td>
      <td><pre class='pp jmp'>        <span id='l47s0' title='Executions: 30' class='cvd'>boolean isHorizontal = robotDir % 2 != 0</span> ? <span id='l47s1' title='Executions: 13' class='cvd'>true</span> : <span id='l47s2' title='Executions: 17' class='cvd'>false;</span></pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>49</td><td></td>
      <td><pre class='cm'>        // Get initial position: vertical move -> col, horizontal move -> row</pre></td>
    </tr>
    <tr>
      <td>50</td><td class='ct'>30</td>
      <td><pre class='pp jmp'>        <span id='l50s0' title='Executions: 30' class='cvd'>int initialPos = isHorizontal</span> ? <span id='l50s1' title='Executions: 13' class='cvd'>robot.getRobotCol()</span> : <span id='l50s2' title='Executions: 17' class='cvd'>robot.getRobotRow();</span></pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>52</td><td class='ct'>30</td>
      <td><pre class='pp cvd' id='l52s0'>        int newPos = 0;</pre></td>
    </tr>
    <tr>
      <td>53</td><td class='ct'>199</td>
      <td><pre class='pp cvd' id='l53s0'>        for(int i = 1; i &lt;= spaces; i++) {</pre></td>
    </tr>
    <tr>
      <td>54</td><td class='ct'>182</td>
      <td><pre class='pp cvd' id='l54s0'>            newPos = initialPos + i*offset;</pre></td>
    </tr>
    <tr>
      <td>55</td><td class='ct'>182</td>
      <td><pre class='pp jmp'>            <span id='l55s0' title='Executions: 182' class='cvd'>if (newPos >= floorSize</span> || <span id='l55s1' title='Executions: 173' class='cvd'>newPos &lt; 0)</span> {</pre></td>
    </tr>
    <tr>
      <td>56</td><td class='ct'>13</td>
      <td><pre class='pp cvd' id='l56s0'>                System.out.println("Robot is at the edge of the room");</pre></td>
    </tr>
    <tr>
      <td>57</td><td class='ct'>13</td>
      <td><pre class='pp cvd' id='l57s0'>                break;</pre></td>
    </tr>
    <tr>
      <td>58</td><td></td>
      <td><pre class='pp'>            }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>60</td><td></td>
      <td><pre class='cm'>            // Modify row if moving horizontal</pre></td>
    </tr>
    <tr>
      <td>61</td><td class='ct'>169</td>
      <td><pre class='pp jmp'>            <span id='l61s0' title='Executions: 169' class='cvd'>if(isHorizontal)</span></pre></td>
    </tr>
    <tr>
      <td>62</td><td class='ct'>65</td>
      <td><pre class='pp cvd' id='l62s0'>                robot.incrementRobotCol(offset);</pre></td>
    </tr>
    <tr>
      <td>63</td><td></td>
      <td><pre class='cm'>            // Modify col otherwise (moving vertical)</pre></td>
    </tr>
    <tr>
      <td>64</td><td></td>
      <td><pre class='pp'>            else</pre></td>
    </tr>
    <tr>
      <td>65</td><td class='ct'>104</td>
      <td><pre class='pp cvd' id='l65s0'>                robot.incrementRobotRow(offset);</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>67</td><td></td>
      <td><pre class='cm'>            // Draw if pen down</pre></td>
    </tr>
    <tr>
      <td>68</td><td class='ct'>169</td>
      <td><pre class='pp jmp'>            <span id='l68s0' title='Executions: 169' class='cvd'>if (robot.isPenDown())</span></pre></td>
    </tr>
    <tr>
      <td>69</td><td class='ct'>87</td>
      <td><pre class='pp cvd' id='l69s0'>                this.floor[robot.getRobotRow()][robot.getRobotCol()] = 1;</pre></td>
    </tr>
    <tr>
      <td>70</td><td></td>
      <td><pre class='pp'>        }</pre></td>
    </tr>
    <tr>
      <td>71</td><td class='ct'>30</td>
      <td><pre class='pp cvd' id='l71s0'>    }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>73</td><td></td>
      <td><pre class='cm'>    // Print pen position and direction (C/c)</pre></td>
    </tr>
    <tr>
      <td>74</td><td></td>
      <td><pre class='pp'>    public void printRobotState() {</pre></td>
    </tr>
    <tr>
      <td>75</td><td class='ct'>28</td>
      <td><pre class='pp cvd' id='l75s0'>        System.out.printf("Position: %s - Pen: %s - Facing: %s%n",</pre></td>
    </tr>
    <tr>
      <td>76</td><td class='ct'>14</td>
      <td><pre class='pp cvd' id='l76s0'>                        robot.getRobotDescription(), robot.getPenPosition(), robot.getRobotDirDescription());</pre></td>
    </tr>
    <tr>
      <td>77</td><td class='ct'>14</td>
      <td><pre class='pp cvd' id='l77s0'>    }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>79</td><td></td>
      <td><pre class='cm'>    // Print floor matrix with indices (P/p)</pre></td>
    </tr>
    <tr>
      <td>80</td><td></td>
      <td><pre class='pp'>    public void printFloor() {</pre></td>
    </tr>
    <tr>
      <td>81</td><td class='ct'>202</td>
      <td><pre class='pp cvd' id='l81s0'>        for(int i = floorSize - 1; i >= 0; i--) {</pre></td>
    </tr>
    <tr>
      <td>82</td><td></td>
      <td><pre class='cm'>            // Print row indices</pre></td>
    </tr>
    <tr>
      <td>83</td><td class='ct'>182</td>
      <td><pre class='pp cvd' id='l83s0'>            System.out.printf("%-3d", i);</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>85</td><td class='ct'>2134</td>
      <td><pre class='pp cvd' id='l85s0'>            for(int j = 0; j &lt; floorSize; j++) {</pre></td>
    </tr>
    <tr>
      <td>86</td><td></td>
      <td><pre class='cm'>                // com.app.Robot passed over floor tile (1 as *)</pre></td>
    </tr>
    <tr>
      <td>87</td><td class='ct'>1952</td>
      <td><pre class='pp jmp'>                <span id='l87s0' title='Executions: 1952' class='cvd'>if(floor[i][j] == 1)</span></pre></td>
    </tr>
    <tr>
      <td>88</td><td class='ct'>94</td>
      <td><pre class='pp cvd' id='l88s0'>                    System.out.printf("%-3s", "*");</pre></td>
    </tr>
    <tr>
      <td>89</td><td></td>
      <td><pre class='cm'>                // com.app.Robot has NOT visited floor tile yet (0 as blank)</pre></td>
    </tr>
    <tr>
      <td>90</td><td></td>
      <td><pre class='pp'>                else</pre></td>
    </tr>
    <tr>
      <td>91</td><td class='ct'>1858</td>
      <td><pre class='pp cvd' id='l91s0'>                    System.out.printf("%-3s", " ");</pre></td>
    </tr>
    <tr>
      <td>92</td><td></td>
      <td><pre class='pp'>            }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>94</td><td class='ct'>182</td>
      <td><pre class='pp cvd' id='l94s0'>            System.out.println();</pre></td>
    </tr>
    <tr>
      <td>95</td><td></td>
      <td><pre class='pp'>        }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>97</td><td></td>
      <td><pre class='cm'>        // Print col indices</pre></td>
    </tr>
    <tr>
      <td>98</td><td class='ct'>202</td>
      <td><pre class='pp cvd' id='l98s0'>        for(int k = 0; k &lt; floorSize; k++) {</pre></td>
    </tr>
    <tr>
      <td>99</td><td class='ct'>182</td>
      <td><pre class='pp jmp'>            <span id='l99s0' title='Executions: 182' class='cvd'>if (k == 0)</span> {</pre></td>
    </tr>
    <tr>
      <td>100</td><td class='ct'>20</td>
      <td><pre class='pp cvd' id='l100s0'>                System.out.printf("%-3s", "\\");</pre></td>
    </tr>
    <tr>
      <td>101</td><td></td>
      <td><pre class='pp'>            }</pre></td>
    </tr>
    <tr>
      <td>102</td><td class='ct'>182</td>
      <td><pre class='pp cvd' id='l102s0'>            System.out.printf("%-3d", k);</pre></td>
    </tr>
    <tr>
      <td>103</td><td></td>
      <td><pre class='pp'>        }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>105</td><td class='ct'>20</td>
      <td><pre class='pp cvd' id='l105s0'>        System.out.println();</pre></td>
    </tr>
    <tr>
      <td>106</td><td class='ct'>20</td>
      <td><pre class='pp cvd' id='l106s0'>    }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>108</td><td></td>
      <td><pre class='pp'>    public Robot getRobot() {</pre></td>
    </tr>
    <tr>
      <td>109</td><td class='ct'>46</td>
      <td><pre class='pp cvd' id='l109s0'>        return this.robot;</pre></td>
    </tr>
    <tr>
      <td>110</td><td></td>
      <td><pre class='pp'>    }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>112</td><td></td>
      <td><pre class='pp'>    public int[][] getFloor() {</pre></td>
    </tr>
    <tr>
      <td>113</td><td class='ct'>7</td>
      <td><pre class='pp cvd' id='l113s0'>        return floor;</pre></td>
    </tr>
    <tr>
      <td>114</td><td></td>
      <td><pre class='pp'>    }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>116</td><td></td>
      <td><pre class='pp'>    public int getFloorSize() {</pre></td>
    </tr>
    <tr>
      <td>117</td><td class='ct'>114</td>
      <td><pre class='pp cvd' id='l117s0'>        return floorSize;</pre></td>
    </tr>
    <tr>
      <td>118</td><td></td>
      <td><pre class='pp'>    }</pre></td>
    </tr>
    <tr><td></td><td></td><td></td></tr>
    <tr>
      <td>120</td><td></td>
      <td><pre class='pp'>    public boolean isInitialized() {</pre></td>
    </tr>
    <tr>
      <td>121</td><td class='ct'>69</td>
      <td><pre class='pp cvd' id='l121s0'>        return isInitialized;</pre></td>
    </tr>
    <tr>
      <td>122</td><td></td>
      <td><pre class='pp'>    }</pre></td>
    </tr>
    <tr>
      <td>123</td><td></td>
      <td><pre class='pp'>}</pre></td>
    </tr>
  </table>
</body>
</html>
